{"repo_token":"Zmi5JvlCt4jDJZzUFiFLkRUXNfT94ckIJ","source_files":[{"name":"src\/ReportAction.php","source":"<?php\n\nnamespace coverallskit\\robo;\n\n\/**\n * Interface ReportAction\n * @package coverallskit\\robo\n *\/\ninterface ReportAction\n{\n\n    public function configure($configPath);\n    public function build();\n    public function save();\n    public function upload();\n\n}","coverage":[null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null]},{"name":"src\/loadTasks.php","source":"<?php\n\nnamespace coverallskit\\robo;\n\nuse coverallskit\\CoverallsReportBuilder;\n\n\n\/**\n * Trait loadTasks\n * @package coverallskit\\robo\n *\/\ntrait loadTasks\n{\n\n    protected function taskCoverallsKit()\n    {\n        $builder = new CoverallsReportBuilder();\n        $action = new CoverallsReportAction($builder);\n\n        return new CoverallsKitTask($action);\n    }\n\n}","coverage":[null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,1,1,null,1,null,null,null]},{"name":"src\/CoverallsKitTask.php","source":"<?php\n\nnamespace coverallskit\\robo;\n\nuse Robo\\Contract\\TaskInterface;\nuse Robo\\Task\\BaseTask;\nuse Robo\\Result;\n\n\n\/**\n * Class CoverallsKitTask\n * @package coverallskit\\robo\\task\n *\/\nclass CoverallsKitTask extends BaseTask implements TaskInterface\n{\n\n    \/**\n     * @var ReportAction\n     *\/\n    private $action;\n\n    \/**\n     * @var bool\n     *\/\n    private $saveOnly;\n\n\n    \/**\n     * @param ReportAction $action\n     *\/\n    public function __construct(ReportAction $action)\n    {\n        $this->action = $action;\n        $this->saveOnly = false;\n    }\n\n    \/**\n     * @param string $configPath\n     * @return $this\n     *\/\n    public function configureBy($configPath)\n    {\n        $this->action->configure($configPath);\n        return $this;\n    }\n\n    \/**\n     * @return $this\n     *\/\n    public function saveOnly()\n    {\n        $this->saveOnly = true;\n        return $this;\n    }\n\n    \/**\n     * @return Result\n     *\/\n    public function run()\n    {\n        $this->action->build();\n\n        if ($this->saveOnly) {\n            $this->action->save();\n        } else {\n            $this->action->upload();\n        }\n\n        return Result::success($this);\n    }\n\n}","coverage":[null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,1,1,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,null,1,null,1,1,1,0,null,null,1,null,null,null]},{"name":"src\/CoverallsReportAction.php","source":"<?php\n\nnamespace coverallskit\\robo;\n\nuse coverallskit\\BuilderConfiguration;\nuse coverallskit\\ReportBuilder;\nuse Robo\\Common\\IO;\n\n\n\/**\n * Class CoverallsReportAction\n * @package coverallskit\\robo\n *\/\nclass CoverallsReportAction implements ReportAction\n{\n\n    use IO;\n\n    \/**\n     * @var ReportBuilder\n     *\/\n    private $builder;\n\n    \/**\n     * @var \\coverallskit\\entity\\ReportEntity\n     *\/\n    private $report;\n\n\n    \/**\n     * @param ReportBuilder $builder\n     *\/\n    public function __construct(ReportBuilder $builder)\n    {\n        $this->builder = $builder;\n    }\n\n    \/**\n     * @param string $configPath\n     *\/\n    public function configure($configPath)\n    {\n        $configuration = BuilderConfiguration::loadFromFile($configPath);\n        $configuration->applyTo($this->builder);\n    }\n\n    public function build()\n    {\n        $this->report = $this->builder->build();\n    }\n\n    public function save()\n    {\n        $this->report->save();\n\n        $message = sprintf('The %s have been saved.', $this->report->getName());\n        $this->yell($message);\n    }\n\n    public function upload()\n    {\n        $this->save();\n        $this->report->upload();\n\n        $message = sprintf('Sent a file %s to coveralls.', $this->report->getName());\n        $this->yell($message);\n    }\n\n}","coverage":[null,null,null,null,null,null,null,null,null,null,null,null,null,1,null,null,1,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,1,1,null,null,null,null,null,null,1,1,1,null,null,null,1,1,null,null,null,1,null,1,1,1,null,null,null,1,1,null,1,1,1,null,1]}],"run_at":"2015-04-29 17:44:53 +0900","git":{"head":{"id":"f1363a4872e148a24123469d6ffe6ea1d95a151d","author_name":"Noritaka Horio","author_email":"holy.shared.design@gmail.com","committer_name":"Noritaka Horio","committer_email":"holy.shared.design@gmail.com","message":"Remove tmp directory\n"},"branch":"master","remotes":[{"name":"origin","url":"git@github.com:cloak-php\/robo-coveralls-kit.git"}]},"service_name":"travis-ci","service_job_id":null}